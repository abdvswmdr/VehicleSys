#+TITLE: VehicleSys
#+HTML: <a href="https://github.com/abdvswmdr/VehicleSys/releases"><img alt="Last release" src="https://img.shields.io/github/v/tag/abdvswmdr/VehicleSys?label=release"></a> &nbsp; <a href="https://github.com/abdvswmdr/VehicleSys/blob/main/LICENSE"><img alt="License: GPL v3" src="https://img.shields.io/badge/License-GPLv3-blue.svg"></a> &nbsp; <a href="https://github.com/abdvswmdr/VehicleSys/commits"><img alt="Commits since last release" src="https://img.shields.io/github/commits-since/abdvswmdr/VehicleSys/latest"></a> &nbsp; <a href="https://github.com/abdvswmdr/VehicleSys"><img alt="Last commit" src="https://img.shields.io/github/last-commit/abdvswmdr/VehicleSys"></a><br>

#+TITLE: VehicleSys

VehicleSys is an interactive car infotainment system that demonstrates Qt/QML development features. The application has a clean, intuitive interface with real-time vehicle data management, interactive controls, and modern automotive UI design principles.

#+attr_html: :width 1030 :height 826 :align center :alt VehicleSys in Action
[[file:vehiclesys.gif]]

** Contents
 * [[#architecture][Architecture]]
 * [[#installation][Installation]]
 * [[#configuration][Configuration]]
 * [[#troubleshooting][Troubleshooting]]
 * [[#completed][Completed]]
 * [[#Contributing][Contributing]] 
 * [[#license][License]] 

   
** Architecture

*** C4 Model Diagrams

The system architecture is documented using the C4 model with professional PlantUML diagrams. Source: [[file:c4-diagrams.puml][c4-diagrams.puml]]
#+attr_html: :width 1030 :height 826 :align center :alt VehicleSys in Action

**** Level 1: System Context
The driver uses VehicleSys to view and control the vehicle. The application reads vehicle data from the CAN bus (vcan0) and renders maps using MapboxGL.

#+attr_html: :width 800px :align center :style "border-radius:12px;box-shadow:0 0 10px rgba(0,0,0,0.3);" :alt "C1 System Context" :loading lazy :decoding async
[[file:c1-system-context.png]]

**** Level 2: Container
A single Qt/QML desktop application integrating all functionality: dashboard telemetry, climate control, media playback, and navigation. The DBC file defines CAN message schemas.

#+attr_html: :width 800px :align center :style "border-radius:12px;box-shadow:0 0 10px rgba(0,0,0,0.3);" :alt "C2 Container Diagram" :loading lazy :decoding async
[[file:c2-container.png]]

**** Level 3: Component
The QML UI binds to C++ controllers for system state, vehicle telemetry, HVAC control, and media playback. The CAN Bus Controller handles communication with vehicle hardware via vcan0.

#+attr_html: :width 800px :align center :style "border-radius:12px;box-shadow:0 0 10px rgba(0,0,0,0.3);" :alt "C3 Component Diagram" :loading lazy :decoding async
[[file:c3-component.png]]

** Installation

*** Prerequisites

- Linux Ubuntu 24.04
- [[https://www.qt.io/blog/qt-5.15-released][Qt 5.15]]
- CMake 3.20+
- C++17 (backend) / QML (frontend)
- CAN Bus: SocketCAN interface (vcan0)
- Navigation: MapboxGL with QtLocation
- PulseAudio/PipeWire 
- Qt Multimedia with GStreamer backend

*** Manual Installation
#+begin_src bash
  sudo apt-get update
  sudo apt-get install qt5-default qtdeclarative5-dev qtpositioning5-dev qtlocation5-dev \
       qtmultimedia5-dev libqt5multimedia5-plugins libqt5multimedia5 \
       cmake build-essential

  # For audio codec support, you may also need:
  sudo apt-get install gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly

  # Clone the repository
  git clone https://github.com/abdvswmdr/VehicleSys 
  cd Vehicle-Infotainment

  mkdir build && cd build # Build the project
  cmake ..
  make

  ./VehicleSys # Run the application

  # Add music in directory
  # (supported formats: MP3, MP4, WAV, OGG, M4A, AAC, FLAC, WMA)
  mkdir music 
  cp </path/to/your/music/>.mp3 music/
  #+end_src


** Configuration

If you encounter audio issues ("Qt Multimedia not available"):
#+begin_src bash
sudo apt-get install qtmultimedia5-dev libqt5multimedia5-plugins libqt5multimedia5 \
                     gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly

rm -rf build && mkdir build && cd build && cmake .. && make -j4
#+end_src

** Troubleshooting

*** Qt/Audio System Issues
See [[#configuration][Configuration]] section for Qt Multimedia and GStreamer setup.
#+begin_src bash
pactl info
pactl list sinks short
pulseaudio --check  # Should return nothing if running
ldd VehicleSys | grep Qt5Multimedia # Verify Qt Multimedia is linked
#+end_src

*** CAN Bus (vcan0) Not Available
#+begin_src bash
sudo ip link add dev vcan0 type vcan && sudo ip link set vcan0 up && ip link show vcan0
#+end_src

** Completed

- ✅ Backend (Qt/C++ Controllers)
    - ✅ Vehicle data (telemetry, gauges)
    - ✅ HVAC (dual-zone, climate, 50-90°F)
    - ✅ Media control (Qt Multimedia, volume sync)
    - ✅ CAN bus controller (vcan0 interface)             
    - ✅ System state (connectivity/[un]lock indicators)
    - ⬜️ Location search (async, QtLocation)     

- ✅ UI Frontend (QML)
    - ✅ Dual-screen (responsive)         
    - ✅ <s>OpenStreetMap</s> MapboxGL 
    - ✅ Real-time map rendering         
    - ⬜ Phone Interface 
    - ⬜ Parking assistant  
    - ⬜ General settings/preferences menu
- ⬜ Deployment/Automation
    - ⬜ Unit tests (gtest)
    - ⬜ CI/CD (Docker, GitHub Actions)

** Completed

- #+HTML: <input type="checkbox" checked disabled> Backend (Qt/C++ Controllers)
    - #+HTML: <input type="checkbox" checked disabled> Vehicle data (telemetry, gauges)
    - #+HTML: <input type="checkbox" checked disabled> HVAC (dual-zone, climate, 50-90°F)
    - #+HTML: <input type="checkbox" checked disabled> Media control (Qt Multimedia, volume sync)
    - #+HTML: <input type="checkbox" checked disabled> CAN bus controller (vcan0 interface)
    - #+HTML: <input type="checkbox" checked disabled> System state (connectivity/[un]lock indicators)
    - #+HTML: <input type="checkbox" disabled> Location search (async, QtLocation)
- #+HTML: <input type="checkbox" checked disabled> UI Frontend (QML)
    - #+HTML: <input type="checkbox" checked disabled> Dual-screen (responsive)
    - #+HTML: <input type="checkbox" checked disabled> <s>OpenStreetMap</s> MapboxGL
    - #+HTML: <input type="checkbox" checked disabled> Real-time map rendering
    - #+HTML: <input type="checkbox" disabled> Phone Interface
    - #+HTML: <input type="checkbox" disabled> Parking assistant
    - #+HTML: <input type="checkbox" disabled> General settings/preferences menu
- #+HTML: <input type="checkbox" disabled> Deployment/Automation
    - #+HTML: <input type="checkbox" disabled> Unit tests (gtest)
    - #+HTML: <input type="checkbox" disabled> CI/CD (Docker, GitHub Actions)

** Contributing

This is a personal learning project showcasing C++ and Qt/QML development. Feedback and suggestions for improvements are welcome!

** License

This project is open source and available under the [[file:LICENSE][GPL v3 License]].

